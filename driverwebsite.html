<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Haywire Robotics HUD</title>
        <style>
            iframe {
                float: left;
            }
            canvas {
                /* float: right; */
                margin-left: 10px;
            }
        </style>
    </head>
    <body onload="startCanvas()">
        <script>
            function startCanvas() {
                clientCanvas.start();
            }

            var clientCanvas = {
                canvas : document.createElement("canvas"),
                start : function() {
                    this.canvas.width = 75;
                    this.canvas.height = 75;
                    this.context = this.canvas.getContext("2d");
                    document.body.insertBefore(this.canvas, document.body.childNodes[0]);
                    this.interval = setInterval(updateCanvasArea, 30);
                },
                clear : function() {
                    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
                }
            }

            function updateCanvasArea() {
                console.log("Update")
                var ctx = clientCanvas.context;
                ctx.fillStyle = "red";
                ctx.fillRect(0, 0, 75, 75);
            }
        </script>
        <iframe src="mjpeg:http://10.15.69.61:8090/stream" frameborder="0"></iframe>
    </body>
<html>